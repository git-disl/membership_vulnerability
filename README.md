# Membership Vulnerability Repository
Examples of membership inference vulnerability analysis 
with a neural network using the cifar-10 dataset and a decision tree using the adult dataset.

#### Requirements
The neural network example has been tested using Keras 2.2.4 with a tensorflow backend of tensorflow-gpu 1.13.1.
The decision tree example has been tested with the sklearn DecisionTreeClassifier using scikit-learn 0.20.2. 
Experiments additionally require numpy, pandas, and prettytable (tested with 1.17.1, 0.24.1, and 0.7.2 respectively).

The decision tree experiments additionally require the user to specify the location of a csv file containing the adult 
dataset. The adult dataset can be downloaded here: https://archive.ics.uci.edu/ml/datasets/Adult.

## Running the Experiments
The experiments are self contained. Once all of the requirements are satisfied the neural network experiment can be run 
by navigating to the `experiment_examples` folder and executing `cifar10_nn.py`. From the same folder the decision tree 
experiment can be executed with `adult_dt.py data_loc` where `data_loc` signifies the <b>relative path</b> to the Adult
dataset on your local machine.

#### Expected Output
Using the defaults currently in the `adult_dt.py` experiment the final output should appear similar to the following:

+------------------------------------------------------------------------------+
|                                 Target Model                                 |
+---------------------------------------+-------------------+------------------+
|            Model Definition           | Training Accuracy | Testing Accuracy |
+---------------------------------------+-------------------+------------------+
| training_definition.py                |       100.00      |      81.35       |
+---------------------------------------+-------------------+------------------+
+----------------------------------------------------+
|                  Attack Aggregate                  |
+------------+----------+-----------+--------+-------+
| Num Shadow | Accuracy | Precision | Recall |  F-1  |
+------------+----------+-----------+--------+-------+
|    100     |  59.32   |   55.14   | 100.00 | 71.09 |
+------------+----------+-----------+--------+-------+
+---------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                Per Class Evaluation                                                               |
+-------+-----------------------+----------------------+------------------+-----------------+---------------+------------------+--------------------+
| Class | Target Accuracy Train | Target Accuracy Test | Attack Precision | Attack Accuracy | Attack Recall | Attack F-1 Score | Percentage of Data |
+-------+-----------------------+----------------------+------------------+-----------------+---------------+------------------+--------------------+
| <=50K |         100.0         |        87.78         |       53.2       |      56.07      |     100.0     |      69.45       |       75.69        |
|  >50K |         100.0         |        61.26         |      62.17       |      69.47      |     100.0     |      76.67       |       24.31        |
+-------+-----------------------+----------------------+------------------+-----------------+---------------+------------------+--------------------+

